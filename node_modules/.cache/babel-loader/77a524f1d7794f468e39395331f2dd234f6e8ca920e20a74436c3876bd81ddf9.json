{"ast":null,"code":"var _jsxFileName = \"D:\\\\monali\\\\INSTA-FRONTEND\\\\src\\\\components\\\\createpost.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from 'axios';\nimport { useNavigate } from \"react-router-dom\";\nimport './Createpost.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CreatePost() {\n  _s();\n  const [image, setImage] = useState(\"\");\n  const [author, setAuthor] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  const submitPost = e => {\n    e.preventDefault();\n    if (Image) {\n      fetch('https://instacloneserver-o66x.onrender.com/api/v1/posts', {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          image: image,\n          author: author,\n          location: location,\n          description: description\n        })\n      }).then(data => console.log(data)).catch(err => console.log(err));\n      navigate('/posts');\n      //(title, Image, Description)\n      //     .then(res => {\n      //         console.log(res)\n\n      //     }).catch(err => console.log(err))\n    } else {\n      alert(\"please select image..\");\n    }\n  };\n  const imageHandler = img => {\n    setLoading(true);\n    const formdata = new FormData();\n    formdata.append(\"file\", img);\n    formdata.append(\"upload_preset\", \"instagram\");\n    axios.post(\"https://api.cloudinary.com/v1_1/dlzydctta/upload\", formdata).then(res => {\n      setImage(res.data.url);\n      setLoading(false);\n    }).catch(err => console.log(err));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"inputs\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          placeholder: \"No Choosen File\",\n          onChange: e => imageHandler(e.target.files[0])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"author\",\n          onChange: e => setAuthor(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Location\",\n          onChange: e => setLocation(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Description\",\n          onChange: e => setDescription(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: submitPost,\n        children: \"Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n_s(CreatePost, \"GrLErWqR+gnFl63PharlMTCoIvM=\", false, function () {\n  return [useNavigate];\n});\n_c = CreatePost;\nexport default CreatePost;\nvar _c;\n$RefreshReg$(_c, \"CreatePost\");","map":{"version":3,"names":["React","useState","axios","useNavigate","jsxDEV","_jsxDEV","CreatePost","_s","image","setImage","author","setAuthor","location","setLocation","description","setDescription","loading","setLoading","navigate","submitPost","e","preventDefault","Image","fetch","method","headers","body","JSON","stringify","then","data","console","log","catch","err","alert","imageHandler","img","formdata","FormData","append","post","res","url","className","children","type","placeholder","onChange","target","files","fileName","_jsxFileName","lineNumber","columnNumber","value","onClick","_c","$RefreshReg$"],"sources":["D:/monali/INSTA-FRONTEND/src/components/createpost.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from 'axios'\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport './Createpost.css'\r\n\r\nfunction CreatePost() {\r\n    const [image, setImage] = useState(\"\")\r\n    const [author, setAuthor] = useState(\"\")\r\n    const [location, setLocation] = useState(\"\")\r\n    const [description, setDescription] = useState(\"\")\r\n    const [loading,setLoading] =useState(false)\r\n    const navigate=useNavigate()\r\n\r\n    const submitPost = (e) => {\r\n        e.preventDefault()\r\n        if (Image) {\r\n             fetch('https://instacloneserver-o66x.onrender.com/api/v1/posts',\r\n             {method:\"post\",headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },body:JSON.stringify({image:image,author:author,location:location,description:description})})\r\n             .then(data =>console.log(data))\r\n             .catch(err=>console.log(err))\r\n             navigate('/posts')\r\n            //(title, Image, Description)\r\n            //     .then(res => {\r\n            //         console.log(res)\r\n                  \r\n            //     }).catch(err => console.log(err))\r\n        }\r\n        else{\r\n            alert(\"please select image..\")\r\n        }\r\n    }\r\n    const imageHandler = (img) => {\r\n        setLoading(true)\r\n        const formdata = new FormData()\r\n        formdata.append(\"file\", img)\r\n        formdata.append(\"upload_preset\", \"instagram\")\r\n        axios.post(\"https://api.cloudinary.com/v1_1/dlzydctta/upload\", formdata)\r\n            .then(res => {\r\n                setImage(res.data.url)\r\n                setLoading(false)\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n    \r\n\r\n    return (\r\n        <div className=\"inputs\">\r\n            <form>\r\n                <div>\r\n                    <input type=\"file\" placeholder=\"No Choosen File\" onChange={(e) => imageHandler(e.target.files[0])} />\r\n                </div>\r\n                <div>\r\n                    <input type=\"text\" placeholder=\"author\" onChange={(e) => setAuthor(e.target.value)} />\r\n                </div>\r\n                <div>\r\n                    <input type=\"text\" placeholder=\"Location\" onChange={(e) => setLocation(e.target.value)} />\r\n                </div>\r\n                <div>\r\n                    <input type=\"text\" placeholder=\"Description\" onChange={(e) => setDescription(e.target.value)} />\r\n                </div>\r\n                <button onClick={submitPost}>Post</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreatePost"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}